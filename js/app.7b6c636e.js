(function(e){function t(t){for(var a,l,n=t[0],s=t[1],u=t[2],c=0,d=[];c<n.length;c++)l=n[c],r[l]&&d.push(r[l][0]),r[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],a=!0,n=1;n<i.length;n++){var s=i[n];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=i[0]))}return e}var a={},r={app:0},o=[];function l(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=a,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(i,a,function(t){return e[t]}.bind(null,a));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var p=s;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e.elFormShow?i("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px","label-position":"top"}},[i("el-form-item",{attrs:{label:e.$t("label.name"),prop:"name"}},[i("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("placeholder.name"),"show-word-limit":"",clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),i("el-form-item",{attrs:{label:e.$t("label.phone"),prop:"phone"}},[i("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("placeholder.phone"),maxlength:11,clearable:""},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),i("el-form-item",{attrs:{label:e.$t("label.patientName"),prop:"patientName"}},[i("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("placeholder.patientName"),"show-word-limit":"",clearable:""},model:{value:e.formData.patientName,callback:function(t){e.$set(e.formData,"patientName",t)},expression:"formData.patientName"}})],1),i("el-form-item",{attrs:{label:e.$t("label.gender"),prop:"gender"}},[i("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},e._l(e.genderOptions,function(t,a){return i("el-radio",{key:a,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),i("el-form-item",{attrs:{label:e.$t("label.productName"),prop:"productName"}},[i("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("placeholder.productName"),clearable:""},model:{value:e.formData.productName,callback:function(t){e.$set(e.formData,"productName",t)},expression:"formData.productName"}})],1),i("el-form-item",{attrs:{label:e.$t("label.batchNo"),prop:"batchNo"}},[i("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("placeholder.batchNo"),clearable:""},model:{value:e.formData.batchNo,callback:function(t){e.$set(e.formData,"batchNo",t)},expression:"formData.batchNo"}})],1),i("el-form-item",{attrs:{label:e.$t("label.description"),prop:"description"}},[i("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:e.$t("placeholder.description"),autosize:{minRows:4}},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),i("el-form-item",{attrs:{label:e.$t("label.medication"),prop:"medication"}},[i("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:e.$t("placeholder.medication"),autosize:{minRows:4}},model:{value:e.formData.medication,callback:function(t){e.$set(e.formData,"medication",t)},expression:"formData.medication"}})],1),i("el-form-item",{attrs:{label:e.$t("label.returnVisit"),prop:"returnVisit"}},[i("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.returnVisit,callback:function(t){e.$set(e.formData,"returnVisit",t)},expression:"formData.returnVisit"}},e._l(e.returnVisitOptions,function(t,a){return i("el-radio",{key:a,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),i("el-form-item",{attrs:{label:e.$t("label.fileList"),prop:"fileList"}},[i("el-upload",{ref:"upload",attrs:{limit:5,"on-exceed":e.handleExceed,action:e.upload.url,"before-upload":e.handleBeforeUpload,"on-remove":e.handleRemove,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"on-error":e.handleFileError,"auto-upload":!0,multiple:""}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v(e._s(e.$t("label.fileButton"))),i("i",{staticClass:"el-icon-upload el-icon--right"})]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n\t\t\t\t\t"+e._s(e.$t("label.fileTip"))+"\n\t\t\t\t")])],1)],1),i("el-form-item",{attrs:{ali:""}},[e.submitButtonFlag?i("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("label.submitButton")))]):e._e()],1)],1):e._e(),e.elFormShow?e._e():i("el-row",[i("el-col",{attrs:{sm:12,lg:6}},[i("el-result",{attrs:{icon:"success",title:e.$t("label.successTitle"),"sub-title":e.$t("label.successSubTitle")}})],1)],1),i("el-dialog",{attrs:{title:e.$t("label.errorTip"),visible:e.dialogVisible,width:"100%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v(e._s(e.errorMsg))]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("label.closeButton")))])],1)])],1)},o=[],l=i("7618"),n=(i("20d6"),i("6762"),i("9865"),i("7f7f"),{name:"app",data:function(){return{elFormShow:!0,submitButtonFlag:!0,dialogVisible:!1,apiUrl:"http://39.98.129.8:8090/system/collect/add",errorMsg:"",testDate:"",formData:{mahCode:"runze",name:"",patientName:"",phone:"",gender:"",approvalNo:"",productName:"",batchNo:"",description:"",medication:"",returnVisit:"",fileList:[]},upload:{uploadList:[],isUploading:!1,url:"http://39.98.129.8:8090/common/upload"},rules:{name:[{required:!0,message:this.$t("rule.name"),trigger:"blur"}],phone:[{required:!0,message:this.$t("rule.phone"),trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:this.$t("rule.phoneError"),trigger:"blur"}],patientName:[{required:!0,message:this.$t("rule.patientName"),trigger:"blur"}],gender:[],productName:[{required:!0,message:this.$t("rule.productName"),trigger:"blur"}],batchNo:[],description:[{required:!0,message:this.$t("rule.description"),trigger:"blur"}],medication:[],returnVisit:[{required:!0,message:this.$t("rule.returnVisit"),trigger:"change"}]},genderOptions:[{label:this.$t("label.genders.male"),value:1},{label:this.$t("label.genders.female"),value:2}],returnVisitOptions:[{label:this.$t("label.returnVisits.yes"),value:1},{label:this.$t("label.returnVisits.no"),value:2}]}},methods:{changeLang:function(e){localStorage.setItem("locale",e),this.$i18n.locale=e,location.reload()},submitForm:function(){var e=this;this.$refs["elForm"].validate(function(t){if(t){var i=e.$loading({lock:!0,text:e.$t("label.submitting"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$axios.post(e.apiUrl,e.formData).then(function(t){i.close(),console.log(t),0==t.data.code?(e.elFormShow=!1,e.submitButtonFlag=!1):(e.errorMsg=t.data.msg,e.dialogVisible=!0)},function(t){i.close(),e.errorMsg=e.$t("rule.fileTips.exceptionTip"),e.dialogVisible=!0})}})},handleBeforeUpload:function(e){var t=this,i=["bmp","gif","jpg","jpeg","png","doc","docx","xls","xlsx","ppt","pptx","html","htm","txt","rar","zip","gz","bz2","mp4","avi","mov","m4a","mp3","wav","ogg","wma","amr","pdf"],a=e.name.substring(e.name.lastIndexOf(".")+1,e.name.length);if(!i.includes(a))return setTimeout(function(){t.$message.error('"'+a+'"'+t.$t("rule.fileTips.suffixTip"))},10),!1;var r=e.size/1024/1024<20;return r?void 0:(setTimeout(function(){t.$message.error(t.$t("rule.fileTips.sizeTip"))},10),!1)},handleRemove:function(e,t){for(var i=this.formData.fileList,a=this.formData.fileList.length,r=0;r<a;r++)if(e.name==i[r].name){i.splice(r,1);break}},submitUpload:function(){this.$refs.upload.submit()},handleFileUploadProgress:function(e,t,i){this.upload.isUploading=!0},handleFileSuccess:function(e,t,i){var a=this;if(this.upload.isUploading=!1,0==e.code){for(var r=this.formData.fileList,o=this.formData.fileList.length,n=0;n<o;n++)if(console.log("---------------"),console.log(r[n].name),console.log(e.originalFilename),e.originalFilename==r[n].name){var s=function(){var i=t.uid,r=a.$refs.upload.uploadFiles.findIndex(function(e){return e.uid===i});return a.$refs.upload.uploadFiles.splice(r,1),a.$message.error('"'+e.originalFilename+'"'+a.$t("rule.fileTips.existTip")),{v:!1}}();if("object"===Object(l["a"])(s))return s.v}var u={};u.name=e.originalFilename,u.url=e.url,u.fileId=e.newFileName,u.path=e.fileName,this.formData.fileList.push(u),this.$message.success('"'+e.originalFilename+'"'+this.$t("rule.fileTips.successTip"))}else{var p=t.uid,c=this.$refs.upload.uploadFiles.findIndex(function(e){return e.uid===p});this.$refs.upload.uploadFiles.splice(c,1),this.$message.error(e.msg)}},handleFileError:function(e,t,i){console.log(i),this.$message.error('"'+t.name+'"'+this.$t("rule.fileTips.failTip"))},handleExceed:function(){this.$message.error(this.$t("rule.fileTips.limitTip"))}}}),s=n,u=i("2877"),p=Object(u["a"])(s,r,o,!1,null,null,null),c=p.exports,d=i("cebc"),m=i("a925"),f=i("f0d9"),h=i.n(f),b=i("b2d6"),g=i.n(b),v=i("c3ff"),$=i.n(v),N={label:{name:"上报人姓名",phone:"上报人手机号",patientName:"患者姓名",gender:"患者性别",productName:"药品名称",batchNo:"药品批号",description:"疑似不良反应描述",medication:"用药情况",returnVisit:"是否接受回访",fileList:"附件",fileButton:"选取上传",fileTip:"最多上传5个附件，每个附件大小不能超过20M！",submitButton:"提交",successTitle:"提交成功",successSubTitle:"感谢您的反馈",genders:{male:"男",female:"女"},returnVisits:{yes:"接受",no:"不接受"},closeButton:"关闭",submitting:"提交中……",errorTip:"提示"},placeholder:{name:"请输入上报人姓名",phone:"请输入上报人手机号",patientName:"请输入患者姓名",productName:"请输入药品名称",batchNo:"请输入药品批号",description:"请输入疑似不良反应描述，如吃药后10分钟后发热、呕吐等症状",medication:"请输入用药情况"},rule:{name:"请输入上报人姓名",phone:"请输入上报人手机号",phoneError:"手机号格式错误",patientName:"请输入患者姓名",productName:"请输入药品名称",description:"请输入疑似不良反应描述",medication:"请输入用药情况",returnVisit:"请选择是否接受回访",fileTips:{exceptionTip:"提交失败，服务异常！",successTip:"上传成功",failTip:"上传失败",suffixTip:"格式文件不允许上传！",sizeTip:"上传文件大小不能超过 20MB!",existTip:"已存在",limitTip:"最多上传5个附件！"}}},T=N,x={label:{name:"Reporter Name",phone:"Reporter Phone Number",patientName:"Patient Name",gender:"Patient Gender",productName:"Product Name",batchNo:"Product Batch Number",description:"Description of Suspected Adverse Reactions",medication:"Description of Medication",returnVisit:"Whether to Accept Return Visits",fileList:"Files",fileButton:"Select",fileTip:"Upload up to 5 attachments, and the size of each attachment cannot exceed 20M!",submitButton:"Submit",successTitle:"Success",successSubTitle:"Thank you",genders:{male:"Male",female:"Female"},returnVisits:{yes:"Yes",no:"No"},closeButton:"OK",submitting:"Submitting……",errorTip:"Tip"},placeholder:{name:"Reporter Name",phone:"Reporter Phone Number",patientName:"Patient Name",productName:"Product Name",batchNo:"Product Batch Number",description:"Description of Suspected Adverse Reactions, such as fever, vomiting, and other symptoms 10 minutes after taking the drug",medication:"Description of Medication"},rule:{name:"Reported Name is Required",phone:"Reporter Phone Number is Required",phoneError:"Reporter Phone Number is Error",patientName:"Patient Name is Required",productName:"Product Name is Required",description:"Description is Required",medication:"Medication is Required",returnVisit:"Return Visits is Required",fileTips:{exceptionTip:"Failed, Service Exception!",successTip:"Upload Succeeded",failTip:"Upload Failed",suffixTip:" format files are not allowed to be uploaded",sizeTip:"The size of the uploaded file cannot exceed 20MB",existTip:" already exists",limitTip:"Upload up to 5 attachments"}}},y=x,D={label:{name:"報告者の名前",phone:"報告者の携帯電話番号",patientName:"患者の名前",gender:"患者の性別",productName:"薬の名前",batchNo:"薬品ロット番号",description:"疑似不良反応の説明",medication:"薬の使用状況",returnVisit:"再訪問を受けるかどうか",fileList:"添付ファイル",fileButton:"アップロードを選択",fileTip:"最大5つの添付ファイルをアップロードし、各添付ファイルのサイズは20Mを超えてはいけません!",submitButton:"提出",successTitle:"提出成功",successSubTitle:"フィードバックありがとうございます",genders:{male:"男",female:"女"},returnVisits:{yes:"受け入れる",no:"受け入れない"},closeButton:"閉じる",submitting:"提出中...",errorTip:"ヒント"},placeholder:{name:"報告者の名前を入力してください",phone:"報告者の携帯電話番号を入力してください",patientName:"患者の名前を入力してください",productName:"薬の名前を入力してください",batchNo:"薬のロット番号を入力してください",description:"不良反応の疑いのある説明を入力してください。例えば、薬を飲んでから10分後に発熱します。嘔吐などの症状",medication:"薬の使用状況を入力してください"},rule:{name:"報告者の名前を入力してください",phone:"報告者の携帯電話番号を入力してください",phoneError:"携帯電話番号のフォーマットが間違っています",patientName:"患者の名前を入力してください",productName:"薬の名前を入力してください",description:"疑似不良反応の説明を入力してください",medication:"薬の使用状況を入力してください",returnVisit:"再訪問を受けるかどうかを選択してください",fileTips:{exceptionTip:"提出失敗、サービス異常!",successTip:"アップロード成功",failTip:"アップロード失敗敗",suffixTip:"フォーマットファイルはアップロードできません!",sizeTip:"アップロードファイルサイズは20MBを超えてはいけません!",existTip:"すでに存在",limitTip:"最大5つの添付ファイルをアップロードします!"}}},w=D;a["default"].use(m["a"]);var F={zh:Object(d["a"])({},T,h.a),en:Object(d["a"])({},y,g.a),ja:Object(d["a"])({},w,$.a)},V=new m["a"]({locale:localStorage.getItem("locale")||"zh",messages:F}),_=V,S=i("cee4"),B=i("5c96"),R=i.n(B);i("0fae");a["default"].prototype.$axios=S["a"],a["default"].use(R.a,{i18n:function(e,t){return _.t(e,t)}}),a["default"].config.productionTip=!1,new a["default"]({i18n:_,render:function(e){return e(c)}}).$mount("#app")}});
//# sourceMappingURL=app.7b6c636e.js.map